import pprint as pp
import json
from pybatfish.client.session import Session
from pybatfish.datamodel import *
from pybatfish.datamodel.answer import *
from pybatfish.datamodel.flow import *

bf = Session(host="localhost")

# Assign a friendly name to your network and snapshot
NETWORK_NAME = "sonic_clos_network"
SNAPSHOT_NAME = "sonic_clos_snapshot"

SNAPSHOT_PATH = "configs/"

# Now create the network and initialize the snapshot
bf.set_network(NETWORK_NAME)
bf.init_snapshot(SNAPSHOT_PATH, name=SNAPSHOT_NAME, overwrite=True)

# Get parsing status
parse_status = bf.q.fileParseStatus().answer()
node_properties = bf.q.nodeProperties(nodes="/spine0/").answer().frame()

